from application import app
from application.models.batchModel import *
from application.models.mainModel import * 
from application.models.locatesModel import *
from application.models.roomsModel import *
from application.config import *


from flask import render_template, \
        request, \
        jsonify

@app.route('/ma/migrateChem/', methods = ['GET', 'POST'])
def maMigrateChem():
    container = None
    #locdict = Batch.select().dicts().get() This was used for datamodel testing
    if request.method == "POST":
            #Gets container from old DB by input barcode whether lower or upper case
           # try:
            container = Batch.select().join(Main).where((Batch.NameRaw_id == Main.NameSorted) && ((Batch.UniqueContainerID == request.form['barcodeID'])|(Batch.UniqueContainerID == request.form['barcodeID'].upper())).get()
           # except:
            #    pass
    return render_template("views/ma/MigrateChem.html",
				    container = container,
                                    config = config)
